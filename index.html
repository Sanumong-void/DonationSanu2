<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link rel="stylesheet" href="index.css" />
    <style>
      .navbar-brand {
        font-size: 1.5rem;
      }
      .navbar-dark {
        background-color: #343a40;
      }
      .login,
      .signup,
      .logout {
        margin-left: 0.5rem;
      }
    </style>
  </head>
  <body>
    <div id="home">
      <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-sm">
          <a class="navbar-brand" href="#">FundRaiser</a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarContent"
            aria-controls="navbarContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link" href="#home"
                  ><strong>Home</strong>
                  <span class="sr-only">(current)</span></a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#trending"
                  ><strong>Trending</strong></a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#services"
                  ><strong>Services</strong></a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#pricing"><strong>Pricing</strong></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#location"
                  ><strong>Location</strong></a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#contact"><strong>Contact</strong></a>
              </li>
              <li class="nav-item" id="profileNav" style="display: none">
                <a class="nav-link" href="./profile.html"
                  ><strong>Profile</strong></a
                >
              </li>
            </ul>
            <form class="d-flex my-2 my-lg-0" id="authButtons">
              <a class="btn btn-success login" href="./login.html">Login</a>
              <a class="btn btn-danger signup" href="./signup.html">Sign Up</a>
            </form>
          </div>
        </div>
      </nav>

      <div class="openingImage">
        <img class="image" src="./donation44.jpg" alt="donation picture" />
        <div class="donate">
          <a
            href="#pricing"
            class="btn btn-primary d-inline-flex align-items-center"
          >
            Donate Now <i class="fa fa-arrow-right ms-2"></i>
          </a>
        </div>
      </div>
    </div>
    <br /><br /><br />

    <div class="container-fluid bg1 slideanim" id="trending">
      <h2 class="text-center heading">Trending</h2>
      <h4 class="text-center heading">See what's new</h4>
      <div class="card-columns">
        <div class="card p-3">
          <img class="card-img-top" src="./1.jpg" alt="Card image cap" />
          <div class="card-body">
            <h5 class="card-title card-heading">
              Free education campaign program
            </h5>
            <p class="card-text">
              Donations go directly toward tuition, books, and school supplies
              for underprivileged students.
            </p>
            <p class="card-text">Funded: 50,000/1,00,000 TK</p>
            <div class="progress">
              <div
                class="progress-bar progress-bar-striped bg-info"
                role="progressbar"
                style="width: 50%"
                aria-valuenow="50"
                aria-valuemin="0"
                aria-valuemax="100"
              >
                50%
              </div>
            </div>
          </div>
        </div>
        <div class="card p-3">
          <img class="card-img-top" src="./3.jpg" alt="Card image cap" />
          <div class="card-body">
            <h5 class="card-title card-heading">
              Indigenous scholarship awareness program
            </h5>
            <p class="card-text">
              With your help, we can ensure that no talented student is held
              back by financial hardship.
            </p>
            <p class="card-text">Funded: 58,260/2,33,040 TK</p>
            <div class="progress">
              <div
                class="progress-bar progress-bar-striped bg-info"
                role="progressbar"
                style="width: 25%"
                aria-valuenow="25"
                aria-valuemin="0"
                aria-valuemax="100"
              >
                25%
              </div>
            </div>
          </div>
        </div>
        <div class="card p-3">
          <img
            class="card-img-top card-heading"
            src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQUqxt6ZqZbXV8VhZEeKfdJojGtl-rgBIk5xw&s"
            alt="Card image cap"
          />
          <div class="card-body">
            <h5 class="card-title card-heading">
              <strong>Tons of aids, on the way to GAZA</strong>
            </h5>
            <p class="card-text">
              The people of Gaza urgently need your help. Ongoing conflict has
              left many without access to clean water, food, and shelter. Your
              donation provides immediate relief — essentials like medical
              supplies, hygiene kits, and meals.
            </p>
            <p class="card-text">Funded: 99,420/1,32,560 TK</p>
            <div class="progress">
              <div
                class="progress-bar progress-bar-striped bg-info"
                role="progressbar"
                style="width: 75%"
                aria-valuenow="75"
                aria-valuemin="0"
                aria-valuemax="100"
              >
                75%
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <br /><br />

    <div id="services" class="container-fluid text-center">
      <h2 class="heading">Services</h2>
      <h4 class="heading">What we offer</h4>
      <br />
      <div class="row slideanim">
        <div class="col-sm-4">
          <i class="fa fa-power-off fa-4 center-icon" aria-hidden="true"></i>
          <h4>1. Secure Donation Platform</h4>
          <h5>
            We provide a safe and reliable way for donors to support causes they
            care about. Our encrypted payment system ensures that every
            contribution is protected.
          </h5>
        </div>
        <div class="col-sm-4">
          <span class="fa fa-heart center-icon" aria-hidden="true"></span>
          <h4>2. Automated Donor Receipts</h4>
          <h5>
            Donors receive instant, automated receipts for every donation —
            great for transparency and tax purposes.
          </h5>
        </div>
        <div class="col-sm-4">
          <span class="fa fa-clock-o center-icon" aria-hidden="true"></span>
          <h4>3. Real-Time Analytics</h4>
          <h5>
            Track donations, donor locations, campaign reach, and more with our
            user-friendly dashboard.
          </h5>
        </div>
      </div>
      <br /><br />
      <div class="row slideanim">
        <div class="col-sm-4">
          <span class="fa fa-wrench center-icon" aria-hidden="true"></span>
          <h4>4. Easy Campaign Setup</h4>
          <h5>
            Starting a fundraising campaign is quick and simple. Whether it’s
            for a personal need, a community project, or a global cause — we’ve
            got the tools to help you launch fast.
          </h5>
        </div>
        <div class="col-sm-4">
          <span class="fa fa-certificate center-icon" aria-hidden="true"></span>
          <h4>5. Cause Transparency</h4>
          <h5>
            Donors can see exactly where their money goes. Each campaign
            includes updates, progress tracking, and detailed fund usage
            breakdowns.
          </h5>
        </div>
        <div class="col-sm-4">
          <span class="fa fa-file-o center-icon"></span>
          <h4 style="color: #303030">6. Automated Donor Receipts</h4>
          <h5>
            Donors receive instant, automated receipts for every donation —
            great for transparency and tax purposes.
          </h5>
        </div>
      </div>
    </div>
    <br /><br />

    <div id="pricing" class="container-fluid bg-grey">
      <div class="text-center">
        <h2 class="heading">Pricing</h2>
        <h4 class="heading">Choose a payment plan that works for you</h4>
      </div>
      <br /><br />
      <div class="row slideanim">
        <div class="col-sm-4 col-xs-12">
          <div class="panel panel-default text-center">
            <div class="panel-heading">
              <h2 class="heading">Basic</h2>
            </div>
            <div class="panel-footer">
              <h3>৳1499</h3>
              <h4>per month</h4>
              <button class="btn btn-primary btn-lg">
                <a href="payment.html" style="color: aliceblue">Pay Now</a>
              </button>
            </div>
          </div>
        </div>
        <div class="col-sm-4 col-xs-12">
          <div class="panel panel-default text-center">
            <div class="panel-heading">
              <h2 class="heading">Pro</h2>
            </div>
            <div class="panel-footer">
              <h3>৳2999</h3>
              <h4>per month</h4>
              <button class="btn btn-primary btn-lg">
                <a href="payment.html" style="color: aliceblue">Pay Now</a>
              </button>
            </div>
          </div>
        </div>
        <div class="col-sm-4 col-xs-12">
          <div class="panel panel-default text-center">
            <div class="panel-heading">
              <h2 class="heading">Premium</h2>
            </div>
            <div class="panel-footer">
              <h3>৳4999</h3>
              <h4>per month</h4>
              <button class="btn btn-primary btn-lg">
                <a href="payment.html" style="color: aliceblue">Pay Now</a>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <br /><br /><br />

    <div id="location" class="container-fluid">
      <h2 class="text-center heading">Location</h2>
      <h4 class="text-center heading">Find us here</h4>
      <div class="map-responsive" style="text-align: center">
        <iframe
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7485.208332701251!2d88.62399165122427!3d24.36897588224226!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39fbefdc9b159b19%3A0x17a749b7a1d21aa5!2sRUET%20Main%20Gate!5e0!3m2!1sen!2sbd!4v1744804358157!5m2!1sen!2sbd"
          width="1000"
          height="450"
          style="border: 0"
          allowfullscreen=""
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"
        ></iframe>
      </div>
    </div>
    <br />

    <section id="contact" class="py-5 bg-light">
      <div class="container">
        <h2 class="text-center mb-4">Reach out to us</h2>
        <p class="text-center text-muted mb-5">
          Have a question or want to collaborate? Send us a message!
        </p>

        <div class="row justify-content-center">
          <div class="col-md-8 col-lg-6">
            <div class="card p-4 shadow-sm">
              <div class="card-body">
                <form id="contactForm">
                  <div class="mb-3">
                    <label for="contactName" class="form-label"
                      >Your Name</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="contactName"
                      name="name"
                      required
                    />
                  </div>
                  <div class="mb-3">
                    <label for="contactEmail" class="form-label"
                      >Your Email</label
                    >
                    <input
                      type="email"
                      class="form-control"
                      id="contactEmail"
                      name="email"
                      required
                    />
                  </div>
                  <div class="mb-3">
                    <label for="contactSubject" class="form-label"
                      >Subject</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="contactSubject"
                      name="subject"
                      required
                    />
                  </div>
                  <div class="mb-3">
                    <label for="contactMessage" class="form-label"
                      >Message</label
                    >
                    <textarea
                      class="form-control"
                      id="contactMessage"
                      name="message"
                      rows="5"
                      required
                    ></textarea>
                  </div>
                  <div
                    id="contactFormMessage"
                    class="alert d-none mt-3"
                    role="alert"
                  ></div>
                  <button type="submit" class="btn btn-primary w-100">
                    Send Message
                  </button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div class="footer container-fluid">
      <div class="row text-center text-md-start">
        <ul class="col-md-3 mb-4 mb-md-0">
          <li><h4>Fundraise</h4></li>
          <li><a href="#">Student scholarship</a></li>
          <li><a href="#">Ethnic development</a></li>
          <li><a href="#">Other Entrepreneurial Projects</a></li>
          <li><a href="#">International fund raising</a></li>
          <li><a href="#">Personal Causes</a></li>
          <li><a href="#">Crowdfunding for Education</a></li>
        </ul>
        <ul class="col-md-3 mb-4 mb-md-0">
          <li><h4>How it works</h4></li>
          <li><a href="#">NGOs</a></li>
          <li><a href="#">Corporates</a></li>
          <li><a href="#">Individuals</a></li>
        </ul>
        <ul class="col-md-3 mb-4 mb-md-0">
          <li><h4>Support</h4></li>
          <li><a href="#">FAQs</a></li>
          <li><a href="#">Fundraising Tips</a></li>
          <li><a href="#">Fundraiser Video</a></li>
          <li><a href="#">Project Handbook</a></li>
          <li><a href="#">Plans & Pricing</a></li>
          <li><a href="#">Payouts</a></li>
          <li><a href="#">Contact Us</a></li>
          <li><a href="#">Trust & Safety</a></li>
        </ul>
        <div class="col-md-3 text-center">
          <h4 class="mb-3">Social Media</h4>
          <div class="row text-center">
            <div class="col-6 d-flex flex-column align-items-center">
              <a href="#" class="fa fa-facebook mb-1"></a>
              <p>Facebook</p>
              <a href="#" class="fa fa-twitter mb-1"></a>
              <p>Twitter</p>
              <a href="#" class="fa fa-google mb-1"></a>
              <p>Google+</p>
            </div>
            <div class="col-6 d-flex flex-column align-items-center">
              <a href="#" class="fa fa-linkedin mb-1"></a>
              <p>LinkedIn</p>
              <a href="#" class="fa fa-youtube mb-1"></a>
              <p>YouTube</p>
              <a href="#" class="fa fa-instagram mb-1"></a>
              <p>Instagram</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      let isLoggedIn = false;

      async function myFunction() {
        try {
          const response = await fetch("https://donation-backend-ic36.onrender.com/api/user/getMe", {
            method: "GET",
            headers: {
              "Content-Type": "application/json",
            },
            credentials: "include",
          });

          isLoggedIn = response.ok;
          updateNavbar();
        } catch (error) {
          console.error("Error checking login status:", error);
          isLoggedIn = false;
          updateNavbar();
        }
      }

      function updateNavbar() {
        const authButtons = document.getElementById("authButtons");
        const profileNav = document.getElementById("profileNav");

        if (isLoggedIn) {
          authButtons.innerHTML = `
                    <a class="btn btn-warning logout" onclick="logout()">Logout</a>
                `;
          profileNav.style.display = "block";
        } else {
          authButtons.innerHTML = `
                    <a class="btn btn-success login" href="./login.html">Login</a>
                    <a class="btn btn-danger signup" href="./signup.html">Sign Up</a>
                `;
          profileNav.style.display = "none";
        }
      }

      async function logout() {
        try {
          const response = await fetch(
            "https://donation-backend-ic36.onrender.com/api/user/logout",
            {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              credentials: "include", // Include cookies for session-based authentication
            }
          );
          if (response.ok) {
            isLoggedIn = false;
            updateNavbar();
            window.location.href = "./login.html";
          } else {
            console.error("Logout failed");
          }
        } catch (error) {
          console.error("Logout error:", error);
        }
      }

      window.onload = function () {
        myFunction();
      };
    </script>
    <!-- contact us js code -->
    <script>
      document
        .getElementById("contactForm")
        .addEventListener("submit", async function (event) {
          event.preventDefault(); // Prevent default form submission

          const form = event.target;
          const formData = new FormData(form); // Gets all form data by name attributes
          const data = Object.fromEntries(formData.entries()); // Convert FormData to a plain object

          const submitButton = form.querySelector('button[type="submit"]');
          const messageBox = document.getElementById("contactFormMessage");

          submitButton.disabled = true;
          submitButton.textContent = "Sending...";
          messageBox.classList.add("d-none"); // Hide previous messages

          try {
            const response = await fetch(
              "https://donation-backend-ic36.onrender.com/api/contact/sendMessage",
              {
                method: "POST",
                headers: {
                  "Content-Type": "application/json",
                },
                body: JSON.stringify(data),
              }
            );

            const result = await response.json();

            if (response.ok) {
              messageBox.textContent =
                result.message || "Message sent successfully!";
              messageBox.classList.remove("d-danger", "alert-warning");
              messageBox.classList.add("alert-success");
              form.reset(); // Clear the form
            } else {
              messageBox.textContent =
                result.message || "Failed to send message. Please try again.";
              messageBox.classList.remove("alert-success", "alert-warning");
              messageBox.classList.add("alert-danger");
            }
          } catch (error) {
            console.error("Error submitting contact form:", error);
            messageBox.textContent =
              "Network error. Could not connect to the server.";
            messageBox.classList.remove("alert-success", "alert-warning");
            messageBox.classList.add("alert-danger");
          } finally {
            submitButton.disabled = false;
            submitButton.textContent = "Send Message";
            messageBox.classList.remove("d-none");
          }
        });
    </script>
  </body>
</html>
